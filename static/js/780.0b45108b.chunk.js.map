{"version":3,"file":"static/js/780.0b45108b.chunk.js","mappings":"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","sources":["components/MovieList/MovieList.jsx","components/MoviesForm/MoviesForm.styled.jsx","components/MoviesForm/MoviesForm.jsx","pages/Movies.jsx","services/API.jsx"],"sourcesContent":["import { useLocation, Link } from 'react-router-dom';\n\nconst MovieList = ({ results }) => {\n  const location = useLocation();\n  return (\n    <ul>\n      {results.map(({ id, original_title, name }) => (\n        <li key={id}>\n          <Link state={{ from: location }} to={`/movies/${id}`}>\n            {original_title || name}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\nexport default MovieList;\n","import styled from '@emotion/styled';\n\nexport const MovieInput = styled.input`\n  display: inline-block;\n  width: 200px;\n  height: 27px;\n\n  margin-left: 40px;\n  font: inherit;\n  font-size: 14px;\n  padding-left: 4px;\n  padding-right: 4px;\n`;\nexport const MovieForm = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  margin-top: 20px;\n`;\n","import { useState } from 'react';\nimport { FaSearch } from 'react-icons/fa';\nimport { MovieInput, MovieForm } from './MoviesForm.styled';\n\nconst MoviesForm = ({ setSearchParams }) => {\n  const [query, setQuery] = useState('');\n  const handelSubmit = e => {\n    e.preventDefault();\n    setSearchParams({ query });\n    setQuery('');\n  };\n  const updateQueryString = evt => {\n    setQuery(evt.target.value.toLowerCase());\n    if (evt.target.value === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ currentQuery: evt.target.value });\n  };\n\n  return (\n    <MovieForm onSubmit={handelSubmit}>\n      <MovieInput\n        type=\"text\"\n        placeholder=\"Search by name \"\n        value={query}\n        autoComplete=\"off\"\n        onChange={updateQueryString}\n      />\n      <button type=\"submit\" disabled={!query}>\n        <FaSearch style={{ width: 24, height: 24 }} />\n      </button>\n    </MovieForm>\n  );\n};\n\nexport default MoviesForm;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams, useLocation } from 'react-router-dom';\nimport MovieList from 'components/MovieList';\nimport MoviesForm from 'components/MoviesForm/MoviesForm';\nimport { getMovies } from '../services/API';\n\nconst Movies = () => {\n  const [results, setResults] = useState([]);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const currentQuery = searchParams.get('query') ?? ' ';\n  const location = useLocation();\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        const data = await getMovies(currentQuery);\n        if (data.results.length === 0) {\n          throw Error('No matches found');\n        }\n        setResults(data.results);\n      } catch (error) {\n        setError(error.message);\n      }\n    };\n\n    fetchMovies();\n  }, [currentQuery]);\n\n  console.log(error);\n  console.log(location);\n  return (\n    <div>\n      <MoviesForm setSearchParams={setSearchParams} />\n      <MovieList results={results} />\n    </div>\n  );\n};\nexport default Movies;\n","import PropTypes from 'prop-types';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '91a00928249c8bc2bbd26dc9aa02f7be';\n\nexport const getTopMovies = async () => {\n  const response = await fetch(\n    `${BASE_URL}trending/movie/day?api_key=${API_KEY}`\n  );\n  if (!response.ok) {\n    throw new Error('Smth went wrong');\n  }\n  return response.json();\n};\n\nexport const getMovieDetails = async movieId => {\n  const results = await fetch(\n    `${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n  if (!results.ok) {\n    throw new Error('Something went wrong');\n  }\n  return results.json();\n};\n\nexport const getMovies = async currentQuery => {\n  const results = await fetch(\n    `${BASE_URL}search/movie?api_key=${API_KEY}&&query=${currentQuery}&include_adult=false&language=en-US&page=1`\n  );\n  if (!results.ok) {\n    throw new Error('Smth went wrong');\n  }\n  return results.json();\n};\n\nexport const getCast = async movieId => {\n  const results = await fetch(\n    `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  if (!results.ok) {\n    throw new Error('Smth went wrong');\n  }\n  return results.json();\n};\n\nexport const getReviews = async movieId => {\n  const results = await fetch(\n    `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US`\n  );\n  if (!results.ok) {\n    throw new Error('Smth went wrong');\n  }\n  return results.json();\n};\n\ngetMovieDetails.propTypes = {\n  movieId: PropTypes.number.isRequired,\n};\n\ngetMovies.propTypes = {\n  currentQuery: PropTypes.string.isRequired,\n};\n\ngetCast.propTypes = {\n  movieId: PropTypes.number.isRequired,\n};\n\ngetReviews.propTypes = {\n  movieId: PropTypes.number.isRequired,\n};\n"],"names":["results","location","useLocation","map","id","original_title","name","state","from","to","MovieInput","styled","MovieForm","setSearchParams","useState","query","setQuery","onSubmit","e","preventDefault","type","placeholder","value","autoComplete","onChange","evt","target","toLowerCase","currentQuery","disabled","style","width","height","setResults","error","setError","useSearchParams","searchParams","get","useEffect","fetchMovies","getMovies","data","length","Error","message","console","log","MovieList","BASE_URL","API_KEY","getTopMovies","fetch","response","ok","json","getMovieDetails","movieId","getCast","getReviews","propTypes","PropTypes"],"sourceRoot":""}